(()=>{"use strict";function t(){return t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},t.apply(this,arguments)}const{Button:e}=wp.components,{Component:s,createElement:r}=wp.element,i=class extends s{constructor(t){super(t),this.handleChange=this.handleChange.bind(this),this.state={isChecked:!1,isClicked:!1}}handleChange(t){if("clicked"===t)return t='{"date" : "'+this.props.currentTime.date+'", "date_gmt" : "'+this.props.currentTime.date_gmt+'", "status" : "publish"}',this.setState({isClicked:!0}),this.setState({isChecked:!1}),void this.props.editPost(t)}render(){return this.props.isScheduled&&!this.props.isPublished?r(e,{isPrimary:!0,onClick:()=>{this.handleChange("clicked")}},this.props.publish):null}},{compose:n,ifCondition:o,withInstanceId:p}=wp.compose,{withSelect:u,withDispatch:d}=wp.data,{PluginPostStatusInfo:a}=wp.editPost,{Component:l,createElement:h}=wp.element,{publishImmediately:c,currentTime:m,publish_button_off:P,allowedPostTypes:g}=WPSchedulePostsFree,C=n([u((t=>{const{getCurrentPostType:e,getEditedPostAttribute:s,isCurrentPostScheduled:r,isCurrentPostPublished:i,getCurrentPost:n}=t("core/editor");return{postType:e(),meta:s("meta"),isScheduled:r(),isPublished:i(),post:n()}})),d(((t,e)=>{let{meta:s}=e;const{editPost:r}=t("core/editor");return{editPost(t){var e=JSON.parse(t);"string"==typeof e&&(e=JSON.parse(e)),r({date:e.date,date_gmt:e.date_gmt,status:e.status})}}})),o((t=>{let{postType:e}=t;return!1!==g.includes(e)}))])(class extends l{constructor(t){super(t)}render(){return""==P?"":h(a,null,h(i,t({},this.props,{currentTime:m,publish:c})))}}),{registerPlugin:b}=wp.plugins;b("wps-publish-button",{render:C})})();